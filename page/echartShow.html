<!--
 * @Author: your name
 * @Date: 2020-08-08 17:40:59
 * @LastEditTime: 2020-08-09 21:23:02
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \myWork\page\echartShow.html
-->
<!DOCTYPE html>
<html style="height: 100%">
    <head>
        <meta charset="utf-8">
    </head>
    <body style="height: 100%; margin: 0">
        <div id="container" style="height: 100%;width:60%;float: left;"></div>
        <div id="container2" style="width:40%;height: 100%;float: right;"></div>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl/dist/echarts-gl.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat/dist/ecStat.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/extension/dataTool.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/extension/bmap.min.js"></script>
        <script src="../js/stuData.js"></script>
        <script type="text/javascript">
            var boy = 0,girl = 0;
            for(var i = 0; i < getData.length; i ++){
                if(getData[i].sexual == '男'){
                    boy ++;
                }else{
                    girl ++;
                }
            }
            var dom = document.getElementById("container");
            var myChart = echarts.init(dom);
            var app = {};
            option = null;
            option = {

                title: {
                    text: '三年二班男女人数',
                    left: 'left'
                },

                color:['rgb(113,175,164)','#ff60af'],
                legend: {
                    left: 'center',
                },
                tooltip: {},
                dataset: {
                    source: [
                        ['product', '男生', '女生'],
                        ['三年二班男女人数', boy, girl],
                    ]
                },
                grid: {
                    left: 70, // 默认10%，给24就挺合适的。
                    top: 80, // 默认60
                    right: 24, // 默认10%
                    bottom: 24, // 默认60
                    width:'35%', // grid 组件的宽度。默认自适应。
                    height:'80%'
                },
                xAxis: {
                    type: 'category',
                    axisLabel:{
                        show:true,
                        textStyle:{
                            fontSize:15
                        }
                    }
            },
                yAxis: {},
                // Declare several bar series, each will be mapped
                // to a column of dataset.source by default.
                series: [
                    {type: 'bar'},
                    {type: 'bar'}
                ]
            };
            if (option && typeof option === "object") {
                myChart.setOption(option, true);
            }
            //饼图

            var seven = 0,eight = 0,nine = 0;
            for(var i = 0; i < getData.length; i ++){
                if(getData[i].age == 7){
                    seven ++;
                }else if(getData[i].age == 8){
                    eight ++;
                }else{
                    nine ++;
                }
            }

            var dom2 = document.getElementById("container2");
            var myChart = echarts.init(dom2);
            option = null;
            option = {
                color:[
                        'rgb(251,178,23)','rgb(252,157,154)','rgb(36,169,225)'
                ],
                title: {
                    text: '三年二班年龄分布',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b} : {c} ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    data: ['七岁', '八岁', '九岁']
                },
                series: [
                    {
                        name: '年龄分布',
                        type: 'pie',
                        radius: '55%',
                        center: ['50%', '60%'],
                        data: [
                            {value: seven, name: '七岁'},
                            {value: eight, name: '八岁'},
                            {value: nine, name: '九岁'},
                        ],
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
            if (option && typeof option === "object") {
                myChart.setOption(option, true);
            }
        </script>
    </body>